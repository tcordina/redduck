{% extends 'base.html.twig' %}

{% block title %}Registration{% endblock %}

{% block body %}
    <div class="text-center" id="signin-wrapper">
        {{ form_start(form, {'attr': {'class': 'form-register'} }) }}
        <h1 class="h3 mb-3 font-weight-normal">Join the worldwide conversation</h1>
        {% if error is defined and error is not null %}
            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
        {% endif %}
        {% for type, messages in app.session.flashbag.all %}
            {% for message in messages %}
                <div class="alert alert-{{ type }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
        {% endfor %}
        {{ form_errors(form.email) }}
        {{ form_widget(form.email) }}
        {{ form_errors(form.username) }}
        {{ form_widget(form.username) }}
        {{ form_errors(form.plainpassword.first) }}
        {{ form_widget(form.plainpassword.first) }}
        {{ form_errors(form.plainpassword.second) }}
        {{ form_widget(form.plainpassword.second) }}
        <button type="submit" class="btn btn-lg btn-primary btn-block">Sign up</button>
        <p class="mt-2">
            Already signed up ? <a href="{{ path('security_login') }}">Log in now !</a>
        </p>
        {{ form_end(form) }}
    </div>
{% endblock %}